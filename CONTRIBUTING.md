# Contributing to PHP-Training

このドキュメントは、PHP-Trainingプロジェクトへの貢献に関するガイドラインを提供します。

## コード貢献のガイドライン

### 1. ライセンスと著作権の遵守

#### 外部コードの使用

外部のコードを参考にする、または使用する場合は、以下のルールを遵守してください：

1. **ライセンスの確認**
   - 使用するコードのライセンスを必ず確認する
   - MIT、Apache 2.0、BSD などの permissive ライセンスのみを使用
   - GPL、AGPL などの copyleft ライセンスは避ける

2. **出典の明記**
   - コードを引用・参考にした場合は、必ずファイルの先頭にコメントで出典を記載
   - 以下の形式を使用：

```php
<?php
/**
 * Based on [Source Name]
 * Original Copyright (c) [Author Name]
 * Licensed under the [License Type]
 * @see [URL]
 */
```

または Blade テンプレートの場合：

```blade
{{--
    Based on [Source Name]
    Original Copyright (c) [Author Name]
    Licensed under the [License Type]
    @see [URL]
--}}
```

3. **著作権表示の保持**
   - 外部コードに含まれる著作権表示やライセンス表記は削除しない
   - オリジナルの著作権表示を保持したまま、変更点を明記

#### 転載禁止コードの扱い

以下のようなコードは使用しないでください：

- 個人ブログで「転載禁止」と明記されているコード
- 「All Rights Reserved」と記載されているコード
- ライセンスが明記されていない商用コード
- 企業の内部コードやプロプライエタリなコード

#### Stack Overflow などのQ&Aサイトからの引用

- Stack Overflow のコードは CC BY-SA ライセンス下にあります
- 使用する場合は、以下の情報を含めてください：
  - 質問または回答のURL
  - 著者名
  - ライセンス表記（CC BY-SA）

例：
```php
/**
 * Based on Stack Overflow answer by [Username]
 * @see https://stackoverflow.com/questions/xxxxx
 * Licensed under CC BY-SA 4.0
 */
```

### 2. AI生成コードの扱い

#### 生成AIの使用について

このプロジェクトでは、以下のガイドラインに従う限り、生成AIの使用を許可します：

1. **オプトアウトの尊重**
   - 生成AIの学習をオプトアウトしているリポジトリのコードは参考にしない
   - robots.txt で AI クローリングを禁止しているサイトのコードは使用しない

2. **AI生成コードの表記**
   - 完全にAIが生成したコードには、その旨を明記（任意）
   - 例：`// AI-assisted code generation`

3. **検証の義務**
   - AI生成コードは必ず動作確認とセキュリティレビューを実施
   - 特にセキュリティ関連のコードは慎重に検証

### 3. セキュリティ

#### セキュアコーディング

すべての貢献は、以下のセキュリティ要件を満たす必要があります：

1. **入力検証**
   - すべてのユーザー入力を検証
   - 適切なサニタイゼーション処理

2. **出力エスケープ**
   - HTMLに出力する際は `htmlspecialchars()` を使用
   - SQL クエリにはプリペアドステートメントを使用

3. **認証情報の管理**
   - パスワードやAPIキーをコードに直接記載しない
   - 環境変数を使用（`.env` ファイル）

詳細は [SECURITY.md](SECURITY.md) を参照してください。

### 4. コーディングスタイル

#### PHP

- PSR-12 コーディング規約に従う
- 型宣言を使用（PHP 7.4+）
- PHPDocコメントで関数とクラスを文書化

#### 命名規則

- クラス名：PascalCase
- メソッド名：camelCase
- 変数名：camelCase
- 定数名：UPPER_SNAKE_CASE

### 5. Pull Request のプロセス

1. **ブランチ作成**
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **変更のコミット**
   - 明確なコミットメッセージを使用
   - 1つのコミットで1つの論理的な変更

3. **テスト**
   - 変更が既存の機能を壊していないことを確認
   - 可能であれば、新しい機能のテストコードを追加

4. **Pull Request の作成**
   - 変更内容を明確に説明
   - 関連するIssueがあればリンク
   - スクリーンショットや動作デモを含める（UI変更の場合）

### 6. ライセンス情報の更新

新しい依存関係を追加した場合：

1. **NOTICE.md の更新**
   - 新しいライブラリの情報を追加
   - ライセンス種類を明記
   - 著作権情報を含める

2. **README.md の更新**
   - 使用中のライブラリリストに追加

3. **composer.json / package.json**
   - 依存関係を正しく記載
   - バージョンを固定または範囲指定

### 7. 禁止事項

以下の行為は禁止されています：

1. **無断転載**
   - 他人のコードを許可なく使用
   - 著作権表示の削除や改変

2. **ライセンス違反**
   - 互換性のないライセンスの混在
   - ライセンス条件の無視

3. **セキュリティリスク**
   - 既知の脆弱性を含むコードの追加
   - セキュリティベストプラクティスの無視

4. **機密情報の漏洩**
   - パスワード、APIキーのコミット
   - 個人情報の含まれるコード

### 8. 質問とサポート

貢献に関する質問は、以下の方法でお問い合わせください：

- GitHub Issues で質問を投稿
- Pull Request で具体的な実装について議論

### 9. 行動規範

このプロジェクトに貢献するすべての人は：

- 相互尊重を持って行動する
- 建設的なフィードバックを提供する
- 他の貢献者を支援する
- オープンで透明性のあるコミュニケーションを心がける

## ライセンス同意

貢献を行うことで、あなたの貢献が MIT License の下でライセンスされることに同意したものとみなされます。

## 謝辞

このプロジェクトへの貢献に感謝します。あなたの協力により、PHP-Training はより良い学習リソースになります。

---

**最終更新**: 2026-01-18
